@page
@model Zealand_Booking_System.Pages.RoomModel
@{
}
<body>
    @foreach (var room in Model.Room)
    {
        <div class="card" style="padding: 15px; margin-bottom: 20px;">
            <div class="card-body">

                @if (Model.EditRoomID == room.RoomID)
                {
                    <!-- 🚧 REDIGERINGSTILSTAND -->
                    <form method="post" asp-page-handler="SaveEdit">

                        <input type="hidden" asp-for="EditRoom.RoomID" />

                        <label>Lokalenavn:</label>
                        <input asp-for="EditRoom.RoomName" class="form-control" />

                        <label>Lokation:</label>
                        <input asp-for="EditRoom.RoomLocation" class="form-control" />

                        <label>Størrelse:</label>
                        <input asp-for="EditRoom.Size" class="form-control" type="number" />

                        <label>Beskrivelse:</label>
                        <textarea asp-for="EditRoom.RoomDescription" class="form-control"></textarea>

                        <button type="submit" class="btn btn-success" style="margin-top:10px;">Gem</button>

                        <a href="/Room" class="btn btn-secondary" style="margin-top:10px;">Fortryd</a>
                    </form>
                }
                else
                {
                    <!-- 👀 VISNINGSTILSTAND -->
                    <h5 class="card-title">@room.RoomName</h5>
                    <p>
                        Størrelse: @room.Size <br />
                        Lokation: @room.RoomLocation <br />
                        @room.RoomDescription
                    </p>

                    <form method="post" asp-page-handler="Delete">
                        <input type="hidden" name="roomID" value="@room.RoomID" />
                        <button type="submit" class="btn btn-danger">Slet</button>
                    </form>

                    <form method="post" asp-page-handler="StartEdit" style="display:inline;">
                        <input type="hidden" name="roomID" value="@room.RoomID" />
                        <button type="submit" class="btn btn-warning">Rediger</button>
                    </form>

                    <a asp-page="/Booking" asp-route-id="@room.RoomID" class="btn btn-success">
                        Book lokalet
                    </a>
                }
            </div>
        </div>
    }

    <!-- FORMULAR TIL AT OPRETTE NYT LOKALE -->
    <h3>Opret nyt lokale</h3>

    <form method="post" style="width:50%; margin-bottom: 30px;">
        <div style="margin-bottom:10px;">
            <label for="RoomName">Lokalenavn:</label><br />
            <input asp-for="NewRoom.RoomName" id="RoomName" required />
        </div>

        <div style="margin-bottom:10px;">
            <label for="RoomLocation">Lokation:</label><br />
            <input asp-for="NewRoom.RoomLocation" id="RoomLocation" required />
        </div>

        <div style="margin-bottom:10px;">
            <label for="Size">Størrelse:</label><br />
            <input asp-for="NewRoom.Size" id="Size" type="number" required />
        </div>

        <div style="margin-bottom:10px;">
            <label for="RoomDescription">Beskrivelse:</label><br />
            <textarea asp-for="NewRoom.RoomDescription" id="RoomDescription"></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Opret lokale</button>
    </form>
   </body>